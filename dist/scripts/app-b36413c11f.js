!function(){"use strict";angular.module("web",["restangular","ui.router","ngMaterial","firebase"])}(),function(){"use strict";function e(e){var t=new Firebase(e),i={root:t,users:t.child("users"),lists:t.child("lists")};return i}angular.module("web").factory("firebaseDataService",e),e.$inject=["FIREBASE_URL"]}(),function(){"use strict";function e(e,t){function i(e){var i=t.users.child(e).child("lists"),s=[];return i.on("child_added",function(e){var i=e.key();t.lists.child(i).once("value",function(e){var t=e.exportVal();s.push(t.name)})}),s}function s(e){return t.lists.child(e).child("items")}var n={getListsByUser:i,getItemsRef:s};return n}angular.module("web").factory("listService",e),e.$inject=["$firebaseArray","firebaseDataService"]}(),function(){"use strict";function e(e){var t=new Firebase("https://vivid-torch-6869.firebaseio.com/");return e(t)}angular.module("web").factory("Auth",e),e.$inject=["$firebaseAuth"]}(),function(){"use strict";function e(e,t,i,s){var n=new Firebase("https://vivid-torch-6869.firebaseio.com/"),r=n.child("users");console.log(r),e.registerUser=function(){e.error=null,s.$createUser({email:e.email,password:e.password}).then(function(i){r.child(i.uid).set({id:e.email.replace(/@.*/,""),email:e.email}),console.log(i),t.go("home")})["catch"](function(t){e.error=t,console.log(t)})}}angular.module("web").controller("RegisterController",e),e.$inject=["$scope","$state","$location","Auth"]}(),function(){"use strict";function e(e,t,i,s,n,r,l){function a(e,i){m.items=t(s.lists.child(e).child("items")),m.select=e}function o(){var t=n.getItemsRef(m.select);t.child(e.nameText).set({name:e.nameText,addedByUser:r.password.email,completed:!1}),e.nameText=""}function c(){s.lists.child(e.nameListText).set({name:e.nameListText,items:[]}),s.users.child(r.uid).child("lists").child(e.nameListText).set(!0),e.nameListText=""}function u(){l.$unauth(),i.go("login")}function d(){e.auth=l,e.auth.$onAuth(function(t){e.authData=t})}var m=this;d(),m.selectAction2=a,m.addItem=o,m.select="Lista1",m.lists=n.getListsByUser(r.uid),m.items=t(s.lists.child(m.select).child("items")),m.addList=c,m.logout=u}angular.module("web").controller("MainController",e),e.$inject=["$scope","$firebaseArray","$state","firebaseDataService","listService","currentAuth","Auth"]}(),function(){"use strict";function e(e,t,i){e.loginUser=function(){i.$authWithPassword({email:e.email,password:e.password}).then(function(e){console.log("Logged in as:",e.password.email),t.go("home")})["catch"](function(e){console.error("Authentication failed:",e)})}}angular.module("web").controller("LoginController",e),e.$inject=["$scope","$state","Auth"]}(),function(){"use strict";function e(e,t){e.$on("$stateChangeError",function(e,i,s,n,r,l){"AUTH_REQUIRED"===l&&t.go("login")})}angular.module("web").run(e),e.$inject=["$rootScope","$state"]}(),function(){"use strict";function e(e,t){e.state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"login"}),e.state("register",{url:"/register",templateUrl:"app/register/register.html",controller:"RegisterController",controllerAs:"register"}),e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm",resolve:{currentAuth:["Auth",function(e){return e.$requireAuth()}]}}),t.otherwise("/")}angular.module("web").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("web").constant("FIREBASE_URL","https://vivid-torch-6869.firebaseio.com/")}(),function(){"use strict";function e(){}angular.module("web").config(e)}(),angular.module("web").run(["$templateCache",function(e){e.put("app/login/login.html",'<div class="login-wrapper"><div class="login-form"><h2>SHOPING LIST</h2><div class="inputs"><input type="email" placeholder="email" ng-model="email"> <input type="password" placeholder="password" ng-model="password"></div><div class="buttons"><button ng-click="loginUser()" type="submit">Sign in</button><p><a href="#/register">Sign up</a></p></div></div></div>'),e.put("app/main/main.html",'<header class="header"><p class="logo">SHOPING LIST</p><div class="user"><i class="fa fa-cog"></i><p class="user_name">{{ authData.password.email }}</p></div></header><div class="wrapper"><div class="lists"><div class="list--header"><h2>LISTS</h2></div><div class="list-buttons"><p class="list-name" ng-class="{active : $first}" ng-repeat="item in vm.lists" ng-click="vm.selectAction2(item, $event)">{{ item }}</p></div><div class="add-list"><form ng-submit="vm.addList()"><input type="text" class="white" placeholder="Dodaj listÄ™" ng-model="nameListText"></form></div><md-button ng-click="vm.logout()" class="md-raised md-warn">Logout</md-button></div><div class="list"><div class="add-item"><form class="add" ng-submit="vm.addItem()"><input type="text" placeholder="Name" class="long" ng-model="nameText"><md-button type="submit" class="md-raised">Add</md-button></form></div><div class="items"><div class="item" ng-repeat="item in vm.items | orderBy:\'completed\'"><input type="checkbox" ng-model="item.completed" ng-change="vm.items.$save(item)" value="false"> <input type="text" ng-class="{done : item.completed}" class="itemInput" ng-model="item.name" ng-change="vm.items.$save(item)"></div></div></div></div>'),e.put("app/register/register.html",'<form ng-submit="registerUser()"><md-input-container><label>Email</label> <input type="email" ng-model="email"></md-input-container><md-input-container><label>Password</label> <input type="text" ng-model="password"></md-input-container><button type="submit">Register user</button></form>')}]);
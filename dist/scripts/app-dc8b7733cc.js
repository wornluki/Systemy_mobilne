!function(){"use strict";angular.module("web",["restangular","ui.router","ngMaterial","firebase"])}(),function(){"use strict";function e(e){var t=new Firebase(e),n={root:t,users:t.child("users"),lists:t.child("lists")};return n}angular.module("web").factory("firebaseDataService",e),e.$inject=["FIREBASE_URL"]}(),function(){"use strict";function e(e,t){function n(n){return e(t.users.child(n).child("lists"))}var i={getListsByUser:n};return i}angular.module("web").factory("listService",e),partyService.$inject=["$firebaseArray","firebaseDataService"],e.$inject=["$firebaseArray","firebaseDataService"]}(),function(){"use strict";function e(e){var t=new Firebase("https://vivid-torch-6869.firebaseio.com/");return e(t)}angular.module("web").factory("Auth",e),e.$inject=["$firebaseAuth"]}(),function(){"use strict";function e(e,t,n,i){var o=new Firebase("https://vivid-torch-6869.firebaseio.com/"),r=o.child("users");console.log(r),e.registerUser=function(){e.error=null,i.$createUser({email:e.email,password:e.password}).then(function(n){r.child(n.uid).set({id:e.email.replace(/@.*/,""),email:e.email}),console.log(n),t.go("home")})["catch"](function(t){e.error=t,console.log(t)})}}angular.module("web").controller("RegisterController",e),e.$inject=["$scope","$state","$location","Auth"]}(),function(){"use strict";function e(e,t,n,i,o,r){var l=new Firebase("hhttps://vivid-torch-6869.firebaseio.com"),a=l.child("lists");e.select="Lista1";var s=l.child("lists").child(e.select).child("items"),u=l.child("users/"+o.uid+"/lists");e.items=t(s),e.selectAction=function(){s=l.child("lists").child(e.select).child("items"),console.log(e.select),console.log("Ref: "+s),e.items=t(s)},e.addItem=function(){s.child(e.nameText).set({name:e.nameText,quanity:e.quanityText}),e.nameListText="",e.nameText="",e.quanityText=""},e.addList=function(){a.child(e.nameListText).set({name:e.nameListText,items:[]}),u.child(e.nameListText).set(!0),e.nameListText=""},e.auth=r,e.auth.$onAuth(function(t){e.authData=t}),e.logout=function(){r.$unauth(),n.go("login")}}angular.module("web").controller("MainController",e),e.$inject=["$scope","$firebaseArray","$state","listService","currentAuth","Auth"]}(),function(){"use strict";function e(e,t,n){e.loginUser=function(){n.$authWithPassword({email:e.email,password:e.password}).then(function(e){console.log("Logged in as:",e.password.email),t.go("home")})["catch"](function(e){console.error("Authentication failed:",e)})}}angular.module("web").controller("LoginController",e),e.$inject=["$scope","$state","Auth"]}(),function(){"use strict";function e(e,t){e.$on("$stateChangeError",function(e,n,i,o,r,l){"AUTH_REQUIRED"===l&&t.go("login")})}angular.module("web").run(e),e.$inject=["$rootScope","$state"]}(),function(){"use strict";function e(e,t){e.state("login",{url:"/login",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"login"}),e.state("register",{url:"/register",templateUrl:"app/register/register.html",controller:"RegisterController",controllerAs:"register"}),e.state("user_get",{url:"/users/:id",templateUrl:"app/user/user.html",controller:"UserController",controllerAs:"user"}),e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main",resolve:{currentAuth:["Auth",function(e){return e.$requireAuth()}]}}),t.otherwise("/")}angular.module("web").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("web").constant("FIREBASE_URL","https://vivid-torch-6869.firebaseio.com/")}(),function(){"use strict";function e(){}angular.module("web").config(e)}(),angular.module("web").run(["$templateCache",function(e){e.put("app/login/login.html",'<h2>Zaloguj się!</h2><form ng-submit="loginUser()"><md-input-container><label>Email</label> <input type="email" ng-model="email"></md-input-container><md-input-container><label>Password</label> <input type="text" ng-model="password"></md-input-container><button type="submit">Login user</button></form><p>Jeżeli nie masz jeszcze konta, <a href="#/register">zarejestruj się!</a></p>'),e.put("app/main/main.html",'<md-content layout-padding=""><label for="singleSelect">Single select:</label><select name="singleSelect" ng-change="selectAction()" ng-model="select" ng-options="value.name as value.name for value in lists"></select><p>{{ select }}</p><p>{{ lists }}</p><md-list><md-list-item class="md-2-line" ng-repeat="item in items"><md-content layout-padding="" layout="row"><md-input-container><input type="text" ng-model="item.name" ng-change="items.$save(item)"></md-input-container><md-input-container><input type="number" ng-model="item.quanity" ng-change="items.$save(item)"></md-input-container><md-input-container><md-button ng-click="items.$remove(item)" class="md-raised md-warn">Delete</md-button></md-input-container></md-content></md-list-item></md-list><form ng-submit="addItem()"><md-input-container><label>Name</label> <input type="text" ng-model="nameText"></md-input-container><md-input-container><label>Quanity</label> <input type="number" value="1" max="10" ng-model="quanityText"></md-input-container><button type="submit">Add</button></form><form ng-submit="addList()"><md-input-container><label>Name</label> <input type="text" ng-model="nameListText"></md-input-container><button type="submit">Add</button></form></md-content><div ng-show="authData"><p>Hello, {{ authData.password.email }}</p><button ng-click="logout()">Logout</button></div>'),e.put("app/register/register.html",'<form ng-submit="registerUser()"><md-input-container><label>Email</label> <input type="email" ng-model="email"></md-input-container><md-input-container><label>Password</label> <input type="text" ng-model="password"></md-input-container><button type="submit">Register user</button></form>')}]);